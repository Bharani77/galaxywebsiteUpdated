(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{3622:(e,s,t)=>{Promise.resolve().then(t.bind(t,2303))},6046:(e,s,t)=>{"use strict";var r=t(6658);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},2303:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),n=t(6046),a=t(2115);let i=(0,t(5974).UU)("https://sarsafeqetopciqjhzrt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNhcnNhZmVxZXRvcGNpcWpoenJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzNTAwOTEsImV4cCI6MjA0NzkyNjA5MX0.cvIbQn7UbCrvjDVzA4-bB-UCsHM9gp9i1uVFWtPlH9c");function c(){let e=(0,n.useSearchParams)().get("username"),s=async()=>{let e=sessionStorage.getItem("userId"),s=sessionStorage.getItem("sessionId");if(!e||!s){sessionStorage.clear(),window.location.href="/signin";return}let{data:t,error:r}=await i.from("users").select("active_session_id").eq("id",e).single();(r||!t||t.active_session_id!==s)&&(sessionStorage.clear(),window.location.href="/")};return(0,a.useEffect)(()=>{let e=setInterval(s,1e4),t=sessionStorage.getItem("userId");if(t){let s=i.channel("session-updates").on("broadcast",{event:"session_terminated"},e=>{e.userId===parseInt(t)&&(sessionStorage.clear(),window.location.href="/")}).subscribe();return()=>{clearInterval(e),s.unsubscribe()}}clearInterval(e)},[]),(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"text-4xl font-bold mb-4",children:["Hello,"," ",(0,r.jsx)("span",{className:"text-purple-500",children:e||"Guest"}),"!"]})})}function o(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(c,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[736,441,517,358],()=>s(3622)),_N_E=e.O()}]);